<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--  <title>Owner Dashboard</title>-->
<!--  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">-->



<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--  <h1>Owner Dashboard</h1>-->
<!--  <p>Welcome to your dashboard. Here you can manage your properties.</p>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--  <title>Owner Dashboard</title>-->
<!--  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--  <h1>Owner Dashboard</h1>-->
<!--  <p>Welcome to your dashboard. Here you can manage your properties.</p>-->

<!--  &lt;!&ndash; Add New Property Form &ndash;&gt;-->
<!--  <div class="card p-3 mt-4">-->
<!--    <h4>Add New Property</h4>-->
<!--    <form th:action="@{/owner/add-property}" method="post">-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Address:</label>-->
<!--        <input type="text" name="address" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">City:</label>-->
<!--        <input type="text" name="city" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Zipcode:</label>-->
<!--        <input type="text" name="zipcode" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Price:</label>-->
<!--        <input type="number" name="price" class="form-control" required>-->
<!--      </div>-->
<!--      <button type="submit" class="btn btn-primary">Add Property</button>-->
<!--    </form>-->
<!--  </div>-->

<!--  &lt;!&ndash; Search Property by ID &ndash;&gt;-->
<!--  <div class="card p-3 mt-4">-->
<!--    <h4>Search Property by ID</h4>-->
<!--    <form th:action="@{/owner/find-property}" method="get">-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Property ID:</label>-->
<!--        <input type="number" name="id" class="form-control" required>-->
<!--      </div>-->
<!--      <button type="submit" class="btn btn-info">Search</button>-->
<!--    </form>-->
<!--  </div>-->

<!--  &lt;!&ndash; Property List &ndash;&gt;-->
<!--  <div class="mt-4">-->
<!--    <h4>All Properties</h4>-->
<!--    <table class="table table-bordered">-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th>ID</th>-->
<!--        <th>Address</th>-->
<!--        <th>City</th>-->
<!--        <th>Price</th>-->
<!--        <th>Actions</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr th:each="property : ${properties}">-->
<!--        <td th:text="${property.id}"></td>-->
<!--        <td th:text="${property.address}"></td>-->
<!--        <td th:text="${property.city}"></td>-->
<!--        <td th:text="${property.price}"></td>-->
<!--        <td>-->
<!--          <form th:action="@{/owner/delete-property}" method="post" class="d-inline">-->
<!--            <input type="hidden" name="id" th:value="${property.id}">-->
<!--            <button type="submit" class="btn btn-danger btn-sm">Delete</button>-->
<!--          </form>-->
<!--        </td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
<!--  </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--  <title>Owner Dashboard</title>-->
<!--  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--  <h1>Owner Dashboard</h1>-->
<!--  <p>Welcome to your dashboard. Here you can manage your properties.</p>-->

<!--  &lt;!&ndash; Add New Property Form &ndash;&gt;-->
<!--  <div class="card p-3 mt-4">-->
<!--    <h4>Add New Property</h4>-->
<!--    <form th:action="@{/owners/add-property}" method="post">-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Address:</label>-->
<!--        <input type="text" name="address" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">City:</label>-->
<!--        <input type="text" name="city" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Zipcode:</label>-->
<!--        <input type="text" name="zipcode" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Area:</label>-->
<!--        <input type="number" name="area" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Type:</label>-->
<!--        <input type="text" name="type" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Price:</label>-->
<!--        <input type="number" name="price" class="form-control" required>-->
<!--      </div>-->
<!--      <div class="mb-2">-->
<!--        <label class="form-label">Approved:</label>-->
<!--        <select name="approved" class="form-control">-->
<!--          <option value="true">Yes</option>-->
<!--          <option value="false">No</option>-->
<!--        </select>-->
<!--      </div>-->
<!--      <button type="submit" class="btn btn-primary">Add Property</button>-->
<!--    </form>-->
<!--  </div>-->

<!--  &lt;!&ndash; Property List &ndash;&gt;-->
<!--  <div class="mt-4">-->
<!--    <h4>All Properties</h4>-->
<!--    <table class="table table-bordered">-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th>ID</th>-->
<!--        <th>Address</th>-->
<!--        <th>City</th>-->
<!--        <th>Price</th>-->
<!--        <th>Actions</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr th:each="property : ${properties}">-->
<!--        <td th:text="${property.id}"></td>-->
<!--        <td th:text="${property.address}"></td>-->
<!--        <td th:text="${property.city}"></td>-->
<!--        <td th:text="${property.price}"></td>-->
<!--        <td>-->
<!--          <form th:action="@{/owners/delete-property}" method="post" class="d-inline">-->
<!--            <input type="hidden" name="id" th:value="${property.id}">-->
<!--            <button type="submit" class="btn btn-danger btn-sm">Delete</button>-->
<!--          </form>-->
<!--          <button class="btn btn-warning btn-sm" data-bs-toggle="modal" th:attr="data-bs-target='#editModal-' + ${property.id}">Edit</button>-->
<!--        </td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
<!--  </div>-->

<!--  &lt;!&ndash; Update Property Modals &ndash;&gt;-->
<!--  <div th:each="property : ${properties}">-->
<!--    <div class="modal fade" th:id="'editModal-' + ${property.id}" tabindex="-1" aria-hidden="true">-->
<!--      <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--          <div class="modal-header">-->
<!--            <h5 class="modal-title">Edit Property</h5>-->
<!--            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--          </div>-->
<!--          <div class="modal-body">-->
<!--            <form th:action="@{/owners/update-property}" method="post">-->
<!--              <input type="hidden" name="id" th:value="${property.id}">-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Address:</label>-->
<!--                <input type="text" name="address" class="form-control" th:value="${property.address}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">City:</label>-->
<!--                <input type="text" name="city" class="form-control" th:value="${property.city}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Zipcode:</label>-->
<!--                <input type="text" name="zipcode" class="form-control" th:value="${property.zipcode}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Area:</label>-->
<!--                <input type="number" name="area" class="form-control" th:value="${property.area}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Type:</label>-->
<!--                <input type="text" name="type" class="form-control" th:value="${property.type}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Price:</label>-->
<!--                <input type="number" name="price" class="form-control" th:value="${property.price}" required>-->
<!--              </div>-->
<!--              <div class="mb-2">-->
<!--                <label class="form-label">Approved:</label>-->
<!--                <select name="approved" class="form-control">-->
<!--                  <option th:value="true" th:selected="${property.approved}">Yes</option>-->
<!--                  <option th:value="false" th:selected="${!property.approved}">No</option>-->
<!--                </select>-->
<!--              </div>-->
<!--              <button type="submit" class="btn btn-success">Update Property</button>-->
<!--            </form>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Owner Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
<body>
<div class="container mt-5">
  <h1>Owner Dashboard</h1>
  <p>Welcome to your dashboard. Here you can manage your properties.</p>

  <!-- Property List -->
  <div class="mt-4">
    <h4>All Properties</h4>
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>ID</th>
        <th>Address</th>
        <th>City</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="property : ${properties}">
        <td th:text="${property.id}"></td>
        <td th:text="${property.address}"></td>
        <td th:text="${property.city}"></td>
        <td th:text="${property.price}"></td>
        <td>
          <form th:action="@{/owners/delete-property}" method="post" class="d-inline">
            <input type="hidden" name="id" th:value="${property.id}">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
          <button class="btn btn-warning btn-sm" data-bs-toggle="modal"
                  th:attr="data-bs-target='#editModal-' + ${property.id}">Edit</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Add New Property Form -->
  <div class="card p-3 mt-4">
    <h4>Add New Property</h4>
    <form th:action="@{/owners/add-property}" method="post">
      <div class="mb-2">
        <label class="form-label">Address:</label>
        <input type="text" name="address" class="form-control" required>
      </div>
      <div class="mb-2">
        <label class="form-label">City:</label>
        <input type="text" name="city" class="form-control" required>
      </div>
      <div class="mb-2">
        <label class="form-label">Zipcode:</label>
        <input type="text" name="zipcode" class="form-control" required>
      </div>
      <div class="mb-2">
        <label class="form-label">Area:</label>
        <input type="number" name="area" class="form-control" required>
      </div>
      <div class="mb-2">
        <label class="form-label">Type:</label>
        <input type="text" name="type" class="form-control" required>
      </div>
      <div class="mb-2">
        <label class="form-label">Price:</label>
        <input type="number" name="price" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-primary">Add Property</button>
    </form>
  </div>

  <!-- Application Forms -->
  <div class="mt-4">
    <h4>Application Forms</h4>

    <table class="table table-bordered">
      <thead>
      <tr>
        <th>ID</th>
        <th>Renter</th>
        <th>Property</th>
        <th>TPN</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="form : ${applications}">
        <td th:text="${form.id}"></td>
        <td th:text="${form.renter.firstName + ' ' + form.renter.lastName}"></td>
        <td th:text="${form.property.address}"></td>
        <td th:text="${form.TPN}"></td>
        <td th:text="'Approved'"></td>
        <td>
          <div class="d-flex justify-content-center">
            <form style="margin-right: 10px;" th:action="@{/owner/rental/status}" method="post" th:if="${app.status.name() == 'PENDING'}">
              <input type="hidden" name="applicationId" th:value="${app.id}">
              <input type="hidden" name="status" value="APPROVED">
              <button type="submit" class="btn btn-success">Accept</button>
            </form>
            <form th:action="@{/owner/rental/status}" method="post" th:if="${app.status.name() == 'PENDING'}">
              <input type="hidden" name="applicationId" th:value="${app.id}">
              <input type="hidden" name="status" value="REJECTED">
              <button type="submit" class="btn btn-danger">Reject</button>
            </form>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Update Property Modals -->
  <div th:each="property : ${properties}">
    <div class="modal fade" th:id="'editModal-' + ${property.id}" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit Property</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form th:action="@{/owners/update-property}" method="post">
              <input type="hidden" name="id" th:value="${property.id}">
              <div class="mb-2">
                <label class="form-label">Address:</label>
                <input type="text" name="address" class="form-control" th:value="${property.address}" required>
              </div>
              <div class="mb-2">
                <label class="form-label">City:</label>
                <input type="text" name="city" class="form-control" th:value="${property.city}" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Zipcode:</label>
                <input type="text" name="zipcode" class="form-control" th:value="${property.zipcode}" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Area:</label>
                <input type="number" name="area" class="form-control" th:value="${property.area}" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Type:</label>
                <input type="text" name="type" class="form-control" th:value="${property.type}" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Price:</label>
                <input type="number" name="price" class="form-control" th:value="${property.price}" required>
              </div>
              <button type="submit" class="btn btn-success">Update Property</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>